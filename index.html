<html>

<canvas id="gameCanvas" width = "450" height="700"> </canvas>

<script src="src/debug.js"></script>
<script src="src/bagEdit.js"></script>
<script src="src/gameLogic.js"></script>
<script src="src/controls.js"></script>
<script src="src/undoRedo.js"></script>
<script src="src/mino.js"></script>
<script src="src/graphics.js"></script>
<script src="src/minoPreviews.js"></script>
<script src="src/rotations.js"></script>

<script>

var noGhost = false;

var eventLog=[];
var redoLog = [];
var reqBag = [];

var bagEdit = false;

var SRSDetail = false;
var offsetArray = [];
var SRSStep = 0;

var bag = shuffleBag();


var DASLeft = 0;
var DASRight = 0;
var DASUp = 0;
var DASDown = 0;

var HDDelay = 0;

var minoCount = [0, 0, 0, 0, 0, 0, 0,]


window.onload = function(){
	canvas = document.getElementById("gameCanvas");
	canvasContext = canvas.getContext('2d');
	initializeBoard();
	chooseMino();
	
	const FPS=60;
		
	setInterval(function(){
		if (bagEdit){
			bagEditor();
		}else{
			move();
			draw();
			if(HDDelay > 0)
				HDDelay--;
			}
		}, 1000/FPS);
	
	window.addEventListener('keydown', keyPress);
	window.addEventListener('keyup', keyUnpress);
	
}

</script>
</html>
